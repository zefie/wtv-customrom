<head>
<title>TV Password</title>
<display nologo nooptions noreconnectalert skipback>
<meta http-equiv=refresh content=0;url=client:ClearBackTVSettings>

<style type="text/css">
#banner {
	position: absolute;
	top: 0;
	left: 1;
	width: 560;
	height: 80;
}

#title {
	position: absolute;
	top: 104;
	left: 64;
	width: 230;
	height: 47;
}

#explain {
	position: absolute;
	top: 147;
	left: 64;
	width: 214;
	height: 197;
}

#password {
	position: absolute;
	top: 147;
	left: 312;
	width: 200;
	height: 47;
}

#dontLockbutton {
	position: absolute;
	top: 373;
	left: 243;
	width: 155;
	height: 35;
}

#donebutton {
	position: absolute;
	top: 373;
	left: 409;
	width: 137;
	height: 35;
}
</style>

<script language="JavaScript" src="pageUtils.js">
	var pageParams;
	var pageString = "";
	var isWrongPassword = false;

	pageParams = parsePageParams();
	if (pageParams != null) {
		isWrongPassword = pageParams.isWrong == "true";
		if (pageParams.type != null)
			pageString = pageParams.type;
	}

	function checkPassword()
	{
		if (TVAccess.validatePassword(document.passwordForm.password.value)) {
			if (pageParams.block == "ratings")
				document.location = "file://ROM/tvhtmls/satellite/movie-ratings.html";
			else if (pageParams.block == "channels")
				document.location = "file://ROM/tvhtmls/satellite/channels-lock.html";
			else if (pageParams.block == "ppv")
				document.location = "file://rom/tvhtmls/satellite/ppv-lock.html";
			else if (pageParams.block == "frontpanel")
				document.location = "file://rom/tvhtmls/satellite/panel-lock.html";
			else if (pageParams.block == "games")
				document.location = "file://rom/tvhtmls/satellite/games-lock.html";
			else
				window.message("TVPassword.html - unspecified block");
		} else
			document.location = "file://Disk/Browser/DiskFlash/tvhtmls/TVPassword.html?type=" +
				pageParams.type + "&isWrong=true&block=" + pageParams.block;
	}

</script>

</head>
<body bgcolor=#21212e background="file://rom/tvimages/Pattern_TVSettings.gif" 
 text=#cbcbcb link=#4489a8 hspace=0 vspace=0 fontsize=large noscroll hideoptions>

<form name=passwordForm>

	<div id=banner>
	<table cellspacing=0 cellpadding=0 cellborder=0>
		<tr><td background="file://rom/tvimages/ShadowLogo_Horizontal.gif" width=104 height=80 valign=top align=left>
				<spacer type=block WIDTH=11 HEIGHT=11><br>
				<spacer type=block WIDTH=10 HEIGHT=1>
	    		<a href="client:showtvhome"><img src="file://ROM/Cache/WebTVLogoJewel.gif" width=87 height=67></a>
			<td width=456 height=80 valign=top align=center>
				<img src="file://rom/tvimages/TVSettingsBanner.gif" width=456 height=50><br>
				<img src="file://rom/tvimages/Shadow_Horizontal.gif" width=456 height=6>
	</table>
	</div>

	<div id=title>
		<font size=+2 color=#ffcf69>
		<script language="JavaScript">
		if (pageParams.block != null)
			document.write("Changing limits");
		else
			document.write("Unlock TV");
		</script>
		</font>
	</div>

	<div id=explain>
		<script language="JavaScript">
			if (isWrongPassword)
				document.write("<font size=-1 color=#ffcf69>The password you typed isn't correct. ");
			else
				document.write("<font size=-1 color=#989898>");

			if (pageParams.block != null) {
				if (isWrongPassword)
					document.write("Please type the password.");
				else
					document.write(
								"Your &boxname; receiver<br>is locked. " +
								"Type in your password to change<br>this access limit."
								);
			} else {
				if (isWrongPassword)
					document.write("Try again.");
				else
					document.write("Type your password<br>to unlock TV.");
			}
		</script>
		</font>
	</div>

	<div id=password>
		<font size=-1 color=#6cb18a>Password<br>
		<img src="file://ROM/Cache/Spacer.gif" width=1 height=3><br>
		<input type=password name=password value="" size=20 maxlength=20
			bgcolor=#444444 text=#ffdd33 cursor=#cc9933 selected nosubmit numbers>
		</font>
	</div>

	<div id=dontLockbutton>
		<font size=-1 color=#ffcf69><shadow>
		<script language="JavaScript">
			var buttonText = "Don\x92t ";

			if (pageParams.block != null)
				buttonText += "Change";
			else
				buttonText += "Unlock";
			document.write(
				"<input type=submit value='" + buttonText + "' name=dontLock action='' onClick='history.back();' nosubmit usestyle width=155 borderimage=file://ROM/tvimages/TVButtonBorder.bif>");
		</script>
		</shadow></font>
	</div>

	<div id=donebutton>
		<font size=-1 color=#ffcf69><shadow>
		<script language="JavaScript">
			if (pageParams.block != null)
				buttonText = "Continue";
			else
				buttonText = "Done";
			document.write(
				"<input type=submit value='" + buttonText + "' name=Done action='' onClick='checkPassword();' usestyle width=130 borderimage=file://ROM/tvimages/TVButtonBorder.bif>");
		</script>
		</shadow></font>
	</div>

</form>
</body>
