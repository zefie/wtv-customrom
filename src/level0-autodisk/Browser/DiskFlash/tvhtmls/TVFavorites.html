<html>
<display nomapscroll>
<head>
	<title>TV Favorites</title>

	<script language="JavaScript">

	var timeOut = null;
	var saveMode = null;

	if (TVFavorites.getGroupCount() == 0) {
		var groupIndex = TVFavorites.addGroup("Recommended");
		if (groupIndex == -1)
			history.back();
	}
	TVFavorites.setCurrentGroup(0);

	function updateShowInfo(updateChannel)
	{
		var channel = TVController.channel;
		var url;
		var title;
		var network = TVDatabase.getNetworkOrCallSign(channel);

		if (updateChannel == 1) {
			document.channel.channel = channel;
			document.channel.network = network;
		}

		if (TVDatabase.isDataAvailable()) {

			url = TVDatabase.getStaticCrossoverLinkURL(channel, 0);
			if ( url != null && url != "" )
				document.titleForm.title.drawCrossoverMark = true;
			else
				document.titleForm.title.drawCrossoverMark = false;

			title = TVDatabase.getProgramTitle(channel, 0);
			if ( title != null && title != "" )
			{
				document.titleForm.title.value = title;
				document.titleForm.network.value = " " + channel + " " + network;
			}
			else
				document.titleForm.title.value = "No Information";
		} else {
			document.titleForm.title.value = "No Information";
		}

		if ( timeOut != null ) clearTimeout(timeOut);
		timeOut = setTimeout('updateShowInfo(0)', 5000);
	}

	function onCellMouseOver(channel)
	{
		if (channel != -1 && channel != document.tv.channel)
			document.tv.channel = channel;
	}

	function onCellClick(channel)
	{
		document.location = "client:showtvfullscreen";
	}

	function titleClick()
	{
		if (TVDatabase.isDataAvailable())
			document.location = "client:showtvinfopage";
		else
			document.location = "file://ROM/tvhtmls/NoTVHomeData.html";
	}

	</script>
</head>
<body text=#cbcbcb link=#4489a8 hspace=0 vspace=0 fontsize=large noscroll onLoad="updateShowInfo(1);">

	<table cellspacing=0 cellpadding=0>
		<tr><td absheight=420 abswidth=365 valign=top bgcolor=#0f2a27 background="file://ROM/tvimages/TVFavoritesBanner.gif" nohtilebg novtilebg>
				<spacer type=vertical height=58>
				<table cellspacing=0 cellpadding=0>
					<tr><td abswidth=21 absheight=246 bgcolor=#244441 gradcolor=#0f2a27 gradangle=0>
						<td abswidth=324 valign=top>
							<table cellspacing=0 cellpadding=0>
								<tr><td abswidth=10 absheight=3>
							   			<img src=file://ROM/tvimages/VideoBorder_TopLeft.gif width=10 height=3>
									<td abswidth=304 absheight=3>
										<img src=file://ROM/tvimages/VideoBorderEdge_Top.gif width=304 height=3>
									<td abswidth=10 absheight=3>
							   			<img src=file://ROM/tvimages/VideoBorder_TopRight.gif width=10 height=3>
								<tr><td abswidth=10 absheight=228 bgcolor=#244441 gradcolor=#0f2a27 gradangle=0>
										<img src=file://ROM/tvimages/VideoBorderEdge_Left.gif width=10 height=228>
									<td abswidth=304 absheight=228 href=client:showtvfullscreen selected name="tvDisplay">
										<tv id=tv width=304 height=228 onChannelChange="updateShowInfo(1);" channeldisplay id=channel>
									<td abswidth=10 absheight=228>
										<img src=file://ROM/tvimages/VideoBorderEdge_Right.gif width=10 height=228>
								<tr><td abswidth=10 absheight=3>
							   			<img src=file://ROM/tvimages/VideoBorder_BotLeft.gif width=10 height=3>
									<td abswidth=304 absheight=3>
										<img src=file://ROM/tvimages/VideoBorderEdge_Bottom.gif width=304 height=3>
									<td abswidth=10 absheight=3>
							   			<img src=file://ROM/tvimages/VideoBorder_BotRight.gif width=10 height=3>
							</table>

					<tr><td abswidth=21>
						<td valign=top absheight=50>
							<form name=titleForm>
							<table cellspacing=0 cellpadding=0>
								<tr><td abswidth=300 valign=top>
										<spacer width=6 type=horizontal>
										<a onClick="titleClick();" href=client:donothing name="TitleLink">
											<font size=+1 color=cbcbcb><shadow>
											<input id=title type=text size=30 usestyle nobackground border=0 marginheight=3 nocursor noselect>
											</shadow></font>
										</a>
								<tr><td abswidth=300 valign=top>
											<font size=-2 color=6cb18a><shadow>
											<input id=network type=text size=10 usestyle nobackground border=0 marginheight=3 nocursor noselect>
											</shadow></font>
							</table>
							</form>

					<tr><td abswidth=21>
						<td><spacer height=13 type=vertical>
							<table cellspacing=0 cellpadding=0>
								<tr><td abswidth=153>
									<td abswidth=172 absheight=35 align=center href="TVFavoritesEdit.html"
										silent background="file://ROM/tvimages/TVButton.gif" nohtilebg novtilebg>
									<spacer type=vertical height=2>
									<form>
										<font size=-1 color=ffcf69><shadow>
										<input id=setup type=text width=100% halign=center value="Setup Favorites"
											usestyle nobackground border=0 nocursor noselect>
										</shadow></font>
									</form>
							</table>
			</table>

			<td absheight=420 abswidth=195 bgcolor=#133632 valign=top>
				<tvFavoritesTable width=195 height=420 bgcolor=#133632 nextleft="tvDisplay">
	</table>
</body>
</html>
